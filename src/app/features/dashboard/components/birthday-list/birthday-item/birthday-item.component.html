<div class="dashboard-birthday-item" tabindex="0" role="article" [attr.aria-label]="'Birthday card for ' + birthday.name">
  @if (birthday.photo) {
    <div class="dashboard-avatar">
      <img
        [src]="birthday.photo"
        [alt]="birthday.name"
        class="dashboard-photo"
        />
    </div>
  }
  @if (!birthday.photo) {
    <div class="dashboard-avatar">
      <mat-icon class="dashboard-default-icon">person</mat-icon>
    </div>
  }

  <div class="dashboard-birthday-content">
    <div class="dashboard-birthday-info">
      <div class="dashboard-name">
        {{ birthday.name }}
      </div>
      <div class="dashboard-age">
        {{ getAge(birthday.birthDate) }} years old
      </div>
    </div>

    <div class="dashboard-birthday-details">
      <div class="dashboard-birth-date">
        <mat-icon class="small-icon">cake</mat-icon>
        {{ birthday.birthDate | date : 'EEEE, MMMM dd, yyyy' }}
      </div>
      @if (birthday.notes) {
        <div class="dashboard-notes">
          <mat-icon class="small-icon">note</mat-icon>
          {{ birthday.notes }}
        </div>
      }
    </div>

    <div class="dashboard-icons">
      <div class="dashboard-icons-left">
        <app-category-icon
          [categoryId]="birthday.category || defaultCategory"
          cssClass="dashboard-category-inline"
        ></app-category-icon>
        @if (birthday.zodiacSign) {
          <app-zodiac-icon
            [zodiacSign]="birthday.zodiacSign"
            cssClass="dashboard-zodiac-inline"
          ></app-zodiac-icon>
        }
        <app-message-indicator
          [birthday]="birthday"
        ></app-message-indicator>
        <app-remember-photo
          [photoUrl]="birthday.rememberPhoto"
          [birthdayName]="birthday.name"
          (share)="onShareRememberPhoto()"
          (download)="onDownloadRememberPhoto()"
        ></app-remember-photo>
      </div>
      <div class="dashboard-icons-right">
        <button
          mat-icon-button
          color="primary"
          (click)="onEdit($event)"
          class="edit-button-circle"
          matTooltip="Edit birthday"
          [attr.aria-label]="'Edit ' + birthday.name + ' birthday'"
          >
          <mat-icon class="edit-icon">edit</mat-icon>
        </button>
        <button
          mat-icon-button
          color="warn"
          (click)="onDelete()"
          class="delete-button-circle"
          matTooltip="Delete birthday"
          [attr.aria-label]="'Delete ' + birthday.name + ' birthday'"
          >
          <img
            src="assets/icons/delete-button.png"
            alt="Delete"
            class="delete-icon"
            />
        </button>
      </div>
    </div>
  </div>

  <div class="dashboard-actions">
    <div
      class="birthday-days-circle"
      [class]="daysChipClass"
      >
      <div class="days-circle-content">
        <div class="days-number">
          {{ daysText }}
        </div>
      </div>
    </div>
  </div>
</div>
